-- MySQL Administrator dump 1.4
--
-- ------------------------------------------------------
-- Server version	5.1.49-3


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8 */;

/*!40014 SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0 */;
/*!40014 SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0 */;
/*!40101 SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='NO_AUTO_VALUE_ON_ZERO' */;


--
-- Create schema MDTEXT
--

CREATE DATABASE IF NOT EXISTS MDTEXT;
USE MDTEXT;
CREATE TABLE  `MDTEXT`.`BOOKS` (
  `ID` int(10) unsigned NOT NULL,
  `NAME` varchar(128) CHARACTER SET latin1 NOT NULL,
  PRIMARY KEY (`ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE  `MDTEXT`.`CATEGORIES` (
  `ID` int(10) unsigned NOT NULL,
  `CATEGORY` varchar(128) CHARACTER SET latin1 NOT NULL,
  PRIMARY KEY (`ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

INSERT INTO `MDTEXT`.`CATEGORIES` VALUES   (0,'UNKNOWN');

CREATE TABLE  `MDTEXT`.`CHAPTERS` (
  `ID` int(10) unsigned NOT NULL,
  `K` int(10) unsigned NOT NULL,
  `BOOK_ID` int(10) unsigned NOT NULL,
  `NAME` varchar(128) CHARACTER SET latin1 NOT NULL,
  PRIMARY KEY (`ID`),
  KEY `CHAPTERS_BOOKS_FK` (`BOOK_ID`),
  CONSTRAINT `CHAPTERS_BOOKS_FK` FOREIGN KEY (`BOOK_ID`) REFERENCES `BOOKS` (`ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE  `MDTEXT`.`PARAGRAPHS` (
  `ID` int(10) unsigned NOT NULL,
  `K` int(10) unsigned NOT NULL,
  `CHAPTER_ID` int(10) unsigned NOT NULL,
  `NAME` varchar(128) CHARACTER SET latin1 NOT NULL,
  PRIMARY KEY (`ID`),
  KEY `PARAGRAPHS_CHAPTERS_FK` (`CHAPTER_ID`),
  CONSTRAINT `PARAGRAPHS_CHAPTERS_FK` FOREIGN KEY (`CHAPTER_ID`) REFERENCES `CHAPTERS` (`ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE  `MDTEXT`.`PHRASES` (
  `ID` int(10) unsigned NOT NULL,
  `K` int(10) unsigned NOT NULL,
  `PARAGRAPH_ID` int(10) unsigned NOT NULL,
  `PHRASE` varchar(128) NOT NULL,
  PRIMARY KEY (`ID`),
  KEY `PHRASES_PARAGRAPHS_FK` (`PARAGRAPH_ID`),
  CONSTRAINT `PHRASES_PARAGRAPHS_FK` FOREIGN KEY (`PARAGRAPH_ID`) REFERENCES `PARAGRAPHS` (`ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE  `MDTEXT`.`PHRASES_WORDS` (
  `PHRASE_ID` int(10) unsigned NOT NULL,
  `WORD_ID` int(10) unsigned NOT NULL,
  `K` int(10) unsigned NOT NULL,
  PRIMARY KEY (`PHRASE_ID`,`WORD_ID`,`K`),
  KEY `PHRASES_WORDS_WORDS_FK` (`WORD_ID`),
  CONSTRAINT `PHRASES_WORDS_PHRASES_FK` FOREIGN KEY (`PHRASE_ID`) REFERENCES `PHRASES` (`ID`),
  CONSTRAINT `PHRASES_WORDS_WORDS_FK` FOREIGN KEY (`WORD_ID`) REFERENCES `WORDS` (`ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

CREATE TABLE  `MDTEXT`.`WORDS` (
  `ID` int(10) unsigned NOT NULL,
  `WORD` varchar(128) CHARACTER SET latin1 NOT NULL,
  `CATEGORY_ID` int(10) unsigned NOT NULL,
  PRIMARY KEY (`ID`),
  KEY `WORD_IDX` (`WORD`),
  KEY `WORDS_CATEGORIES_FK` (`CATEGORY_ID`),
  CONSTRAINT `WORDS_CATEGORIES_FK` FOREIGN KEY (`CATEGORY_ID`) REFERENCES `CATEGORIES` (`ID`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8;

/*!40101 SET SQL_MODE=@OLD_SQL_MODE */;
/*!40014 SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS */;
/*!40014 SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
